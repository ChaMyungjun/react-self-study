{"ast":null,"code":"var _jsxFileName = \"C:\\\\react-self-study\\\\final_project\\\\src\\\\api_parsing\\\\weather_api.js\";\nimport React, { Component } from 'react';\nimport testSection from '../public_comp/testingSection';\nimport axios from 'axios';\n\nclass weather_api extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      temp: '',\n      name: '',\n      location: ''\n    };\n    this.api = axios.create({\n      baseURL: 'https://api.openweathermap.org/data/2.5',\n      params: {\n        APPID: 'e95ac588746ceda256336b36e66b47f1 '\n      }\n    });\n  }\n\n  componentDidMount() {\n    navigator.geolocation.getCurrentPosition(position => {\n      const getWeather = this.api.get('/weather', {\n        params: {\n          lat: position.coords.latitude,\n          lon: position.coords.longitude\n        }\n      }, err => console.log(err));\n      getWeather.then(res => {\n        this.setState({\n          temp: Math.ceil(res.data.main.temp - 273.15),\n          //화씨에서 섭씨로 변경\n          name: res.data.weather[0].main,\n          //날씨\n          location: res.data.name\n        });\n      }).catch(err => console.log(err));\n    });\n  }\n\n  render() {\n    const {\n      temp,\n      name,\n      location\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"testSection\", {\n      temp: temp,\n      name: name,\n      location: location,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 14\n      }\n    });\n  }\n\n}\n\nexport default weather_api;","map":{"version":3,"sources":["C:/react-self-study/final_project/src/api_parsing/weather_api.js"],"names":["React","Component","testSection","axios","weather_api","state","temp","name","location","api","create","baseURL","params","APPID","componentDidMount","navigator","geolocation","getCurrentPosition","position","getWeather","get","lat","coords","latitude","lon","longitude","err","console","log","then","res","setState","Math","ceil","data","main","weather","catch","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAN,SAA0BH,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAClCI,KADkC,GAC1B;AACNC,MAAAA,IAAI,EAAE,EADA;AAENC,MAAAA,IAAI,EAAE,EAFA;AAGNC,MAAAA,QAAQ,EAAE;AAHJ,KAD0B;AAAA,SAQlCC,GARkC,GAQ5BN,KAAK,CAACO,MAAN,CAAa;AACjBC,MAAAA,OAAO,EACL,yCAFe;AAGjBC,MAAAA,MAAM,EAAE;AACNC,QAAAA,KAAK,EAAE;AADD;AAHS,KAAb,CAR4B;AAAA;;AAgBlCC,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAA0CC,QAAD,IAAc;AACrD,YAAMC,UAAU,GAAG,KAAKV,GAAL,CAASW,GAAT,CACjB,UADiB,EAEjB;AACER,QAAAA,MAAM,EAAE;AACNS,UAAAA,GAAG,EAAEH,QAAQ,CAACI,MAAT,CAAgBC,QADf;AAENC,UAAAA,GAAG,EAAEN,QAAQ,CAACI,MAAT,CAAgBG;AAFf;AADV,OAFiB,EAQhBC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CARQ,CAAnB;AAUAP,MAAAA,UAAU,CAACU,IAAX,CAAgBC,GAAG,IAAI;AACrB,aAAKC,QAAL,CAAc;AACZzB,UAAAA,IAAI,EAAE0B,IAAI,CAACC,IAAL,CAAUH,GAAG,CAACI,IAAJ,CAASC,IAAT,CAAc7B,IAAd,GAAqB,MAA/B,CADM;AACkC;AAC9CC,UAAAA,IAAI,EAAEuB,GAAG,CAACI,IAAJ,CAASE,OAAT,CAAiB,CAAjB,EAAoBD,IAFd;AAEoB;AAChC3B,UAAAA,QAAQ,EAAEsB,GAAG,CAACI,IAAJ,CAAS3B;AAHP,SAAd;AAKD,OAND,EAOC8B,KAPD,CAOQX,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAPhB;AAQD,KAnBD;AAoBD;;AACDY,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEhC,MAAAA,IAAF;AAAQC,MAAAA,IAAR;AAAcC,MAAAA;AAAd,QAA2B,KAAKH,KAAtC;AACA,wBAAO;AAAa,MAAA,IAAI,EAAIC,IAArB;AAA2B,MAAA,IAAI,EAAIC,IAAnC;AAAyC,MAAA,QAAQ,EAAIC,QAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AAzCiC;;AA4CpC,eAAeJ,WAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport testSection from '../public_comp/testingSection';\r\nimport axios from 'axios';\r\n\r\nclass weather_api extends Component {\r\n  state = {\r\n    temp: '',\r\n    name: '',\r\n    location: '',\r\n  };\r\n\r\n  //api baseURL과 APIID 설정\r\n  api = axios.create({\r\n    baseURL:\r\n      'https://api.openweathermap.org/data/2.5',\r\n    params: {\r\n      APPID: 'e95ac588746ceda256336b36e66b47f1 ',\r\n    },\r\n  });\r\n\r\n  componentDidMount() {\r\n    navigator.geolocation.getCurrentPosition((position) => {\r\n      const getWeather = this.api.get(\r\n        '/weather',\r\n        {\r\n          params: {\r\n            lat: position.coords.latitude,\r\n            lon: position.coords.longitude,\r\n          },\r\n        },\r\n        (err) => console.log(err)\r\n      );\r\n      getWeather.then(res => {\r\n        this.setState({\r\n          temp: Math.ceil(res.data.main.temp - 273.15), //화씨에서 섭씨로 변경\r\n          name: res.data.weather[0].main, //날씨\r\n          location: res.data.name,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err))\r\n    });\r\n  }\r\n  render() {\r\n      const { temp, name, location } = this.state;\r\n      return <testSection temp = {temp} name = {name} location = {location} />\r\n  }\r\n}\r\n\r\nexport default weather_api\r\n"]},"metadata":{},"sourceType":"module"}